{"version":3,"sources":["webpack:///webpack/bootstrap d94e1e3a14285492119a","webpack:///./game.ts","webpack:///./gameUnits/Core.ts","webpack:///./Common.ts","webpack:///./weapons/Laser.ts","webpack:///./modifiers/WeaponModifier.ts","webpack:///./utils/Formations.ts","webpack:///./Ground.ts","webpack:///./gameUnits/CenterOfMassMarker.ts","webpack:///../styles/main.styl?0eba","webpack:///../styles/main.styl","webpack:///../~/css-loader/lib/css-base.js","webpack:///../~/style-loader/addStyles.js"],"names":["Game","Game.constructor","Game.initScene","Game.addMoveCommand","Game.createInitialPlayerUnits","Game.setUpDummyEnemys","Core","Core.constructor","Core.select","Core.deselect","Core.currentSpeed","Common","Common.constructor","laser","laser.constructor","laser.fire","WeaponModifier","WeaponModifier.constructor","Formations","Formations.constructor","Formations.circularGrouping","Formations.getCentroid","Formations.Distance2D","Ground","Ground.constructor","CenterOfMassMarker","CenterOfMassMarker.constructor"],"mappings":"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MA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;iBAChDA,EAAEA,CAACA,CAACA,UAAUA,CAACA,UAAUA,KAAKA,KAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA;qBACtDA,KAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,UAACA,EAAYA;yBAC7BA,MAAMA,CAACA,EAAEA,CAACA,UAAUA,CAACA;qBACvBA,CAACA,CAACA,CAACA,OAAOA,CAACA,UAACA,EAAYA;yBACtBA,EAAEA,CAACA,MAAMA,CAACA,IAAIA,CAACA,EAAEA,EAAEA,KAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA,EAAEA,KAAIA,CAACA,KAAKA,CAACA;qBACpDA,CAACA,CAACA,CAACA;qBACHA,MAAMA,CAACA;iBACTA,CAACA;aACHA,CAACA;aAEDA,sBAAsBA;aACtBA,EAAEA,CAACA,CAACA,UAAUA,CAACA,UAAUA,KAAKA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA;iBAE/CA,6CAA6CA;iBAC7CA,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,UAACA,IAAcA;qBACjCA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA;iBACzBA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA;qBACZA,IAAIA,CAACA,cAAcA,CAACA,UAAUA,CAACA,WAAWA,CAACA,CAACA;iBAC9CA,CAACA;aACHA,CAACA;aAACA,IAAIA,CAACA,CAACA;aAERA,CAACA;SACHA,CAACA,CAACA;SAEFA,SAASA;SACTA,IAAIA,MAAMA,GAAGA,OAAOA,CAACA,IAAIA,CAACA,SAASA,CAACA,QAAQA,EAAEA,KAAKA,EAAEA,IAAIA,CAACA,KAAKA,CAACA,CAACA;SACjEA,IAAIA,cAAcA,GAAGA,IAAIA,OAAOA,CAACA,gBAAgBA,CAACA,QAAQA,EAAEA,IAAIA,CAACA,KAAKA,CAACA,CAACA;SACxEA,cAAcA,CAACA,eAAeA,GAAGA,KAAKA,CAACA;SACvC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GAAG,aAAa,oBAAoB,uBAAuB,GAAG,aAAa,oBAAoB,GAAG,YAAY,oBAAoB,GAAG,eAAe,2BAA2B,gBAAgB,gBAAgB,iBAAiB,cAAc,eAAe,qBAAqB,GAAG,aAAa,uBAAuB,gBAAgB,iBAAiB,GAAG;;AAE3mD;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA","file":"density-wars.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d94e1e3a14285492119a\n **/","import Core from \"./gameUnits/Core\"\nimport Formations from \"./utils/Formations.ts\"\nimport Common from \"./Common\"\nimport {IGameUnit} from \"./gameUnits/IGameUnit\";\nimport Ground from \"./Ground\";\nimport RemotePlayer from \"./RemotePlayer\";\nimport PickingInfo = BABYLON.PickingInfo;\nimport Vector3 = BABYLON.Vector3;\nimport CenterOfMassMarker from \"./gameUnits/CenterOfMassMarker\";\n\n\ndeclare function require(module:string):any\n\nrequire('../styles/main.styl');\n\n//todo I can't figure out a way to import with webpack so I load in index.html\n//import BABYLON from 'babylonjs'\n\nvar self;//todo not sure about this\n\nclass Game {\n  startingNumberOfCores:number = 6;\n\n  remoteUsers:Array<RemotePlayer>//other players in the game, start with just 1 for now for simplicity\n\n  canvas:HTMLCanvasElement;\n  engine:BABYLON.Engine;\n  scene:BABYLON.Scene;\n  cores:Array<IGameUnit>;\n\n  //todo move to remote Users\n  enemyUnits:Array<IGameUnit> = [];\n\n  ground:Ground;\n  selection:Array<IGameUnit>; //this is what the user has selected, can be one ore more gameUnits\n  centerOfMass:CenterOfMassMarker;\n\n  constructor() {\n    self = this;\n\n    // Load BABYLON 3D engine\n    this.engine = new BABYLON.Engine(<HTMLCanvasElement> document.getElementById(\"glcanvas\"), true);\n\n    this.canvas = this.engine.getRenderingCanvas();\n\n    this.initScene();\n\n    this.cores = this.createInitialPlayerUnits();\n    var formation = Formations.circularGrouping(this.cores.length, new Vector3(0, 0, 0));\n    for (var i = 0; i < this.cores.length; i++) {\n      this.cores[i].mesh.position = formation[i];\n    }\n\n    this.centerOfMass = new CenterOfMassMarker(this.scene, true);\n    this.centerOfMass.mesh.position = Formations.getCentroid(this.cores);\n\n    this.engine.runRenderLoop(() => {\n      this.centerOfMass.mesh.position = Formations.getCentroid(this.cores);\n\n      this.scene.render();\n    });\n    window.addEventListener(\"resize\", function () {\n      //todo some logic\n      self.engine.resize();\n    });\n\n  }\n\n\n  initScene() {\n    this.scene = new BABYLON.Scene(this.engine);\n\n    // This creates and positions a free camera (non-mesh)\n    var camera = new BABYLON.FreeCamera(\"camera1\", new BABYLON.Vector3(0, 15, -40), this.scene);\n    // This targets the camera to scene origin\n    camera.setTarget(BABYLON.Vector3.Zero());\n    // This attaches the camera to the canvas\n    camera.attachControl(this.canvas, true);\n    // This creates a light, aiming 0,1,0 - to the sky (non-mesh)\n    var light = new BABYLON.HemisphericLight(\"light1\", new BABYLON.Vector3(0, 1, 0), this.scene);\n\n    // Default intensity is 1. Let's dim the light a small amount\n    light.intensity = 0.7;\n    // Move the sphere upward 1/2 its height\n    // Our built-in 'ground' shape. Params: name, width, depth, subdivs, scene\n    this.ground = new Ground(this.scene);\n\n    this.scene.onPointerDown = (evt, pickResult:PickingInfo) => {\n\n      //ignore if not click\n      if (evt.button !== 0) {\n        return;\n      }\n\n      //deselction of of other units if todo add to selection (shift\n      var isOwnUnitHit = this.cores.some((el:IGameUnit)=> {\n        return pickResult.pickedMesh === el.mesh\n      });\n      if (isOwnUnitHit) {\n        if(evt.shiftKey){\n          return; // the unit will select itself in the events manager\n        }\n\n        //desselect others\n        this.cores.filter((el:IGameUnit)=> {\n          return pickResult.pickedMesh !== el.mesh\n        }).forEach((el:IGameUnit)=> {\n          el.deselect();\n        });\n        return;\n      }\n\n      //check for enemy targeted\n      for (var i = 0; i < this.enemyUnits.length; i++) {\n        if (pickResult.pickedMesh === this.enemyUnits[i].mesh) {\n          this.cores.filter((el:IGameUnit)=> {\n            return el.isSelected;\n          }).forEach((el:IGameUnit)=> {\n            el.weapon.fire(el, this.enemyUnits[i], this.scene)\n          });\n          return;\n        }\n      }\n\n      //check for ground hit\n      if (pickResult.pickedMesh === self.ground.mesh) {\n\n        //ground hit, now check if any units selected\n        if (self.cores.filter((item:IGameUnit) => {\n            return item.isSelected;\n          }).length) {\n          self.addMoveCommand(pickResult.pickedPoint);\n        }\n      } else {\n\n      }\n    };\n\n    // Skybox\n    var skybox = BABYLON.Mesh.CreateBox(\"skyBox\", 750.0, this.scene);\n    var skyboxMaterial = new BABYLON.StandardMaterial(\"skyBox\", this.scene);\n    skyboxMaterial.backFaceCulling = false;\n    skyboxMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);\n    skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);\n    skyboxMaterial.emissiveColor = new BABYLON.Color3(0, 0.0, 0.0);\n    skybox.material = skyboxMaterial;\n    this.setUpDummyEnemys();\n  }\n\n\n//todo from mouse/keyboard\n  addMoveCommand(pickResult:Vector3) {\n    console.log(pickResult);\n    var selectedUnits = this.cores.filter((unit:IGameUnit)=> {\n      return unit.isSelected;\n    });\n\n    var formation = Formations.circularGrouping(selectedUnits.length, pickResult);\n    for (var i = 0; i < selectedUnits.length; i++) {\n\n      var unit = selectedUnits[i];\n\n      //pythagoras\n      var distance = Math.sqrt(Math.pow(pickResult.x - unit.mesh.position.x, 2) + Math.pow(pickResult.z - unit.mesh.position.z, 2));\n      var framesNeeded = Math.round((distance / Common.MEDIUM_SPEED) * Common.ANIMATIONS_FPS);\n      console.log('dist: ' + distance + ' frames' + framesNeeded);\n\n      var animationBezierTorus = new BABYLON.Animation(\"animationCore\", \"position\", Common.ANIMATIONS_FPS, BABYLON.Animation.ANIMATIONTYPE_VECTOR3, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);\n      var keysBezierTorus = [];\n      keysBezierTorus.push({frame: 0, value: unit.mesh.position});\n\n      keysBezierTorus.push({\n        frame: framesNeeded,\n        value: unit.mesh.position = formation[i]\n      });\n      animationBezierTorus.setKeys(keysBezierTorus);\n      // var bezierEase = new BABYLON.BezierCurveEase(0.445, 0.05, 0.55, 0.95);\n      //animationBezierTorus.setEasingFunction(bezierEase);\n      unit.mesh.animations.push(animationBezierTorus);\n      this.scene.beginAnimation(unit.mesh, 0, framesNeeded, true);\n\n    }\n    ;\n    //todo investigate queued commands\n  }\n\n  createInitialPlayerUnits() {\n    //var cores = Array<IGameUnit>;\n    var cores = [];\n    for (var i = 0; i < this.startingNumberOfCores; i++) {\n      var core = new Core(this.scene, true);\n      core.mesh.position.y = Common.defaultY;\n      cores.push(core)\n    }\n    return cores;\n  }\n\n  setUpDummyEnemys() {\n    var core = new Core(this.scene, false);\n    core.mesh.position = new Vector3(10, Common.defaultY, 10);\n    this.enemyUnits.push(core);\n  }\n\n}\n\n//start up the game\nnew Game();\n\n\n\n/** WEBPACK FOOTER **\n ** ./game.ts\n **/","import UnitCommand from '../utils/UnitCommand';\nimport Common from \"../Common\";\nimport {IGameUnit} from \"../gameUnits/IGameUnit\";\nimport ActionEvent = BABYLON.ActionEvent;\nimport Laser from \"../weapons/Laser\";\n\n\n/**\n *\n * Controllable unit\n */\n\n\n//todo team colours, friendlies\nexport default class Core implements IGameUnit {\n  mesh:BABYLON.Mesh;\n  isSelected:boolean = false; //selected units can receive new commands\n  isOwn:boolean;\n  modifiers:Array<any>;\n  hitPoints:number = 10;\n  click:(e:MouseEvent)=>void;\n  baseSpeed:number = Common.MEDIUM_SPEED;\n  weapon:Laser = new Laser();\n  mass:number = 1;\n\n\n  defaultMaterial:BABYLON.StandardMaterial;\n  material:BABYLON.StandardMaterial;\n\n  //todo investigate the feasibility of chained commands or queued commands\n  //currentCommands:Array<any>;\n  currentCommand:UnitCommand; //poss move to Igameunit\n\n  /**\n   *\n   * @param scene\n   * @param isOwn\n   * @param isSelected\n   */\n  constructor(scene, isOwn, isSelected = false) {\n\n    this.mesh = BABYLON.Mesh.CreateSphere(\"sphere1\", 8, Common.MEDIUM_UNIT_SIZE, scene);\n   // this.mesh.parentClass = this;\n    this.isSelected;//selected units receive commands\n    this.modifiers = [];//powerups,shields etc\n    this.isOwn = isOwn;\n\n    this.material = new BABYLON.StandardMaterial(\"green\", scene);\n\n    if (isOwn) {\n      this.material.diffuseColor = new BABYLON.Color3(0.4, 0.4, 0.8);\n      this.material.specularColor = new BABYLON.Color3(0.4, 0.4, 0.8);\n    } else {\n      this.material.diffuseColor = new BABYLON.Color3(0.8, 0.4, 0.4);\n      this.material.specularColor = new BABYLON.Color3(0.4, 0.4, 0.4);\n    }\n\n    // this.material.emissiveColor = BABYLON.Color3.Green();\n\n    this.mesh.material = this.material;\n\n    this.mesh.actionManager = new BABYLON.ActionManager(scene);\n\n    //show bounding box for selected elements\n    this.mesh.actionManager.registerAction(new BABYLON.ExecuteCodeAction(BABYLON.ActionManager.OnPickTrigger, this.select.bind(this)));\n\n    //show user where mouse is hovering over\n    this.mesh.actionManager.registerAction(new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOverTrigger, this.mesh.material, \"diffuseColor\", BABYLON.Color3.White()));\n    this.mesh.actionManager.registerAction(new BABYLON.SetValueAction(BABYLON.ActionManager.OnPointerOutTrigger, this.mesh.material, \"diffuseColor\", this.material.diffuseColor));\n  }\n\n  select(e:ActionEvent) {\n    this.isSelected = true;\n    e.meshUnderPointer.showBoundingBox = true;\n  }\n\n  deselect() {\n    this.isSelected = false;\n    this.mesh.showBoundingBox = false;\n  }\n\n  currentSpeed() {\n    //todo speed modifiers\n    return this.baseSpeed;\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./gameUnits/Core.ts\n **/","\n/**\n * Stuff that's shared among a lot of things in this game\n */\nexport default class Common{\n  static defaultY:number = 1; // presently all the objects are on the same horizontal plane\n\n  static MEDIUM_UNIT_SIZE:number = 1;\n\n  static MEDIUM_SIZE_MAP:number = 80;\n\n  static MEDIUM_SIZE_MAP_SUBDIVISIONS:number = 40;\n\n  static MEDIUM_SPEED = 3;\n  static ANIMATIONS_FPS = 30; //this is distance units per second\n\n\n\n\n}\n\nexport var KEYS = {\n  BACKSPACE: 8,\n  TAB: 9,\n  RETURN: 13,\n  ESC: 27,\n  SPACE: 32,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46,\n  HOME: 36,\n  END: 35,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  INSERT: 45,\n  ZERO: 48,\n  ONE: 49,\n  TWO: 50,\n  A: 65,\n  L: 76,\n  P: 80,\n  Q: 81,\n  TILDA: 192\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./Common.ts\n **/","import {IGameUnit} from \"../gameUnits/IGameUnit\";\nimport WeaponModifier from \"../modifiers/WeaponModifier\";\nimport StandardMaterial = BABYLON.StandardMaterial;\nimport Formations from \"../utils/Formations\";\n\n/**\n * Fires a laser from one game object to another\n *\n * For simplicity it fires and renders instantly(speed of light) and remains 1 second afterglow\n *\n * //todo add group laser firing and laser adding\n */\nexport default class laser {\n  intialDamage:number = 10;\n  weaponModifier:WeaponModifier = new WeaponModifier();\n\n  constructor() {\n\n  }\n\n  /**\n   * Fires laser from one unit to another\n   * @param from\n   * @param to\n   */\n  fire(from:IGameUnit, to:IGameUnit, scene:BABYLON.Scene):boolean {\n    //todo draw laser + apply damage to 'tp\n\n    var distance = Formations.Distance2D(from.mesh.position, to.mesh.position);\n\n\n    var mesh = BABYLON.Mesh.CreateCylinder(\"cylinder\", distance, 0.1, 0.1, 36,2, scene, true);\n\n    mesh.setPivotMatrix(BABYLON.Matrix.Translation(0, -distance / 2, 0));\n    mesh.position = from.mesh.position;\n\n    var v1 = from.mesh.position.subtract(to.mesh.position);\n    v1.normalize();\n    var v2 = new BABYLON.Vector3(0, 1, 0);\n\n    // Using cross we will have a vector perpendicular to both vectors\n    var axis = BABYLON.Vector3.Cross(v1, v2);\n    axis.normalize();\n    console.log(axis);\n\n    // Angle between vectors\n    var angle = BABYLON.Vector3.Dot(v1, v2);\n    console.log(angle);\n\n    // Then using axis rotation the result is obvious\n    mesh.rotationQuaternion = BABYLON.Quaternion.RotationAxis(axis, -Math.PI / 2 + angle);\n\n    var material:StandardMaterial = new BABYLON.StandardMaterial(\"green\", scene);\n\n    material.diffuseColor = new BABYLON.Color3(0.4, 0.4, 0.8);\n    material.specularColor = new BABYLON.Color3(0.4, 0.4, 0.8);\n\n\n    material.emissiveColor = BABYLON.Color3.Green();\n    mesh.material = material;\n\n    return;\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./weapons/Laser.ts\n **/","/**\n * Modifies the stats of a weapon\n */\nexport default class WeaponModifier {\n  DamageAddition:number = 0\n  DamageMultiplier:number = 1;\n\n  constructor() {\n\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./modifiers/WeaponModifier.ts\n **/","import Common from \"../Common\"\nimport {IGameUnit} from \"../gameUnits/IGameUnit\";\nimport Vector3 = BABYLON.Vector3;\n\nexport default class Formations {\n  /**\n   * returns array of vector3 on the edge of a circle equally spaced around a given point\n\n   * @param amount\n   * @param center\n   * @param spacing\n   * @returns {Array<Vector3>}\n   */\n\n  static circularGrouping(amount:number, center:Vector3, spacing:number = 1) {\n\n    if (amount < 1) {\n      //  throw new Error(\"weird formation\");\n    }\n    var arr:Array<Vector3> = [];\n    if (amount === 1) {\n      arr.push(center);\n      return arr;\n    }\n\n    for (var i = 0; i < amount; i++) {\n      var angleDeg = i * (360 / amount);\n      var angleRad = (angleDeg / 360) * 2 * Math.PI;\n      var customVector = new BABYLON.Vector3(-Math.cos(angleRad) * spacing, Common.defaultY * spacing, -Math.sin(angleRad) * spacing);\n      arr.push(center.add(customVector));\n    }\n\n    return arr;\n  }\n\n  /**\n   * Gets centroid (center of mass) of units\n   * @param units\n   * @returns {BABYLON.Vector3}\n     */\n  static getCentroid(units:Array<IGameUnit>) {\n    var totalMass:number = 0;\n    var totalX:number = 0;\n    var totalZ:number = 0;\n    units.forEach(unit=> {\n      totalMass += unit.mass;\n      totalX += unit.mesh.position.x * unit.mass\n      totalZ += unit.mesh.position.z * unit.mass\n    })\n\n    return new Vector3 (totalX / totalMass,Common.defaultY, totalZ / totalMass);\n  }\n  static Distance2D(from:Vector3,to:Vector3) {\n    return Math.sqrt(Math.pow(from.x - to.x, 2) + Math.pow(from.z -to .z, 2));\n\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/Formations.ts\n **/","import Common from \"./Common\";\n/**\n *\n * The ground (actually a grid in space) that the game sits upon\n */\nexport default class Ground {\n  mesh:BABYLON.Mesh;\n  click:(e:MouseEvent)=>void;\n\n  defaultMaterial:BABYLON.StandardMaterial;\n\n  constructor(scene) {\n\n    //Creation of a plane with a texture\n    this.mesh = BABYLON.Mesh.CreatePlane(\"ground\", Common.MEDIUM_SIZE_MAP, scene);\n    var matGround = new BABYLON.StandardMaterial(\"matGround\", scene);\n    matGround.diffuseTexture = new BABYLON.Texture(\"lib/assets/img/background.png\", scene);\n    matGround.diffuseTexture.uScale = Common.MEDIUM_SIZE_MAP_SUBDIVISIONS;\n    matGround.diffuseTexture.vScale = Common.MEDIUM_SIZE_MAP_SUBDIVISIONS;\n    matGround.specularColor = new BABYLON.Color3(0, 0, 0);\n    this.mesh.material = matGround;\n    this.mesh.rotation.x = Math.PI / 2;\n    this.mesh.position = new BABYLON.Vector3(0, 0, 0);\n  }\n\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./Ground.ts\n **/","import UnitCommand from '../utils/UnitCommand';\nimport Common from \"../Common\";\nimport {IGameUnit} from \"../gameUnits/IGameUnit\";\nimport ActionEvent = BABYLON.ActionEvent;\nimport Laser from \"../weapons/Laser\";\n\n\n/**\n * CenterOfMassMarker\n *\n * Shows center of mass of all units\n */\n\n\n//todo team colours, friendlies\nexport default class CenterOfMassMarker {\n  mesh:BABYLON.Mesh;\n\n  isOwn:boolean;\n\n\n  /**\n   *\n   * @param scene\n   * @param isOwn\n   */\n  constructor(scene, isOwn) {\n\n    this.mesh = BABYLON.Mesh.CreateBox(\"sphere1\", {width: Common.MEDIUM_UNIT_SIZE,height: Common.MEDIUM_UNIT_SIZE}, scene);\n    this.isOwn = isOwn;\n\n    var material = new BABYLON.StandardMaterial(\"green\", scene);\n\n    if (isOwn) {\n      material.diffuseColor = new BABYLON.Color3(1, 1, 1);\n      material.specularColor = new BABYLON.Color3(1, 1, 1);\n    } else {\n      material.diffuseColor = new BABYLON.Color3(0.2, 0.2, 0.2);\n      material.specularColor = new BABYLON.Color3(0.2, 0.2, 0.2);\n    }\n\n    material.emissiveColor = BABYLON.Color3.Green();\n\n    this.mesh.material = material;\n\n  }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./gameUnits/CenterOfMassMarker.ts\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./main.styl\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./main.styl\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./main.styl\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../styles/main.styl\n ** module id = 9\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".players {\\n  position: absolute;\\n  left: calc(50% - 152px);\\n  bottom: 16px;\\n  width: 304px;\\n  height: 42px;\\n  z-index: 4;\\n}\\n.players .player {\\n  background-color: #44a9f1;\\n  float: left;\\n  width: 64px;\\n  height: 42px;\\n  margin-right: 16px;\\n}\\n#info {\\n  background-color: rgba(30,30,30,0.3);\\n  color: rgba(255,255,255,0.5);\\n  position: absolute;\\n  right: 20px;\\n  bottom: 20px;\\n  width: 200px;\\n  height: 140px;\\n  z-index: 4;\\n  padding: 10px;\\n}\\n#info h1 {\\n  font-size: 13px;\\n  text-align: center;\\n}\\n#info h2 {\\n  font-size: 11px;\\n}\\n#info p {\\n  font-size: 8px;\\n}\\n.players {\\n  position: absolute;\\n  left: calc(50% - 152px);\\n  bottom: 16px;\\n  width: 304px;\\n  height: 42px;\\n  z-index: 4;\\n}\\n.players .player {\\n  background-color: #44a9f1;\\n  float: left;\\n  width: 64px;\\n  height: 42px;\\n  margin-right: 16px;\\n}\\nbody,\\nhtml {\\n  background-color: #000;\\n  color: #fff;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n#glcanvas {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n#guide {\\n  background-color: rgba(30,30,30,0.3);\\n  color: rgba(255,255,255,0.5);\\n  position: absolute;\\n  top: 20px;\\n  left: 20px;\\n  width: 200px;\\n  height: 140px;\\n  z-index: 4;\\n  padding: 10px;\\n}\\n#guide h1 {\\n  font-size: 13px;\\n  text-align: center;\\n}\\n#guide h2 {\\n  font-size: 13px;\\n}\\n#guide p {\\n  font-size: 10px;\\n}\\nbody,\\nhtml {\\n  background-color: #000;\\n  color: #fff;\\n  width: 100%;\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n#glcanvas {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/stylus-loader!../styles/main.styl\n ** module id = 10\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader/lib/css-base.js\n ** module id = 11\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/style-loader/addStyles.js\n ** module id = 12\n ** module chunks = 0\n **/"],"sourceRoot":""}